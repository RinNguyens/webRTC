<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Demo</title>
  <link rel="stylesheet" href="style.css" type="text/css" media="all">
</head>

<body>
  <div id="wrapper">
    <section id="contents">
      <!-- カメラ映像 -->

      <video id="camera" autoplay muted playsinline></video>

      <div id="shadow">
      </div>

      <div id="detail">
        <div class="wrapTitle">
          <p class="title">Watch Master</p>
          <img src="image/bannerTop.png" class="bannerTop" />
        </div>
        <img src="icon/detail.png" id="show-Detail" class="detailImg" />
      </div>
      <div id="product">
        <p class="name">SBGA211</p>
        <p class="product-overview">カメラ映像カメラ映像カメラ映像</p>
        <div class="product-detail">
          <p class="size">Case size: 41.0mm</p>
          <p class="tax">Y682,200 (tax inc.)</p>
        </div>
      </div>

      <div id="hand">
        <img src="icon/hand.png" width="100%" height="100%" />
      </div>
      <!-- フレーム -->
      <div id="detailWatch">
        <div style="margin-left: 30px;">
          <img src="image/detailWatch.png" class="notiWatch" />
        </div>
        <div >
          <canvas id="frame" width="510" height="510"></canvas>
        </div>
      </div>

      <!-- シャッター -->
      <div id="shutter-inner">
        <div class="container-shutter">
          <img src="image/shutterDetail.png" class="shutter-detail" />
        </div>
        <button id="btn-shutter" type="button"><img src="icon/camera-solid.png" width="200" height="200"></button>
      </div>

      <!-- フレーム切り替え -->
      <div id="frame-inner" style="display: none;">
        <h2>フレーム切り替え</h2>
        <ul id="framelist">
        </ul>
      </div>
    </section>

    <!-- 合成用Canvas(不可視) -->
    <canvas id="still" width="700" height="1000"></canvas>

    <!-- ダイアログ -->
    <div id="dialog-outer">
      <!-- 最終結果 -->
      <div id="dialog-result" class="dialog">
        <p>
          <img id="dialog-result-close" src="icon/times-circle-regular.png" width="48" height="48">
        </p>
        <div id="wrapImg">

          <!-- <canvas id="resultImg" width="762" height="1680"></canvas> -->
          <div id="resultImg">
            <div>
              <div id="detail-modal">
                <div class="wrapTitle-modal">
                  <p class="title-modal">Watch Master</p>
                  <img src="image/bannerTop.png" class="bannerTop" style="display: none;" />
                </div>
                <img src="icon/detail.png" id="show-Detail" class="detailImg-modal" style="display: none;" />
              </div>
              <p class="hr-modal"></p>
              <div id="product-modal">
                <p class="name-modal">SBGA211</p>
                <p class="product-overview-modal">カメラ映像カメラ映像カメラ映像</p>
                <div class="product-detail-modal">
                  <p class="size-modal">Case size: 41.0mm</p>
                  <p class="tax-modal">Y682,200 (tax inc.)</p>
                </div>
              </div>
            </div>
            <div>
              <canvas id="frameResult" width="190" height="190"></canvas>
            </div>
            <img id="photo" />
          </div>
          <div id="shadowModal"></div>
        </div>
        <div id="content-detail">
          <div id="fitting">
            <h1>VIRTUAL FITTING APP</h1>
          </div>
          <div id="list-content">
            <div class="link item">
              <img src="icon/camera-solid.png" class="item-img" />
              <div class="base">
                <h2>LINK</h2>
                <div class="base-text">
                  <p>最終結果最終結果最終結果最終結果</p>
                  <p>最終結果最終結果最終結果最終結果</p>
                </div>
              </div>
            </div>
            <div class="scale item">
              <img src="icon/camera-solid.png" class="item-img" />
              <div class="base">
                <h2>SCALE</h2>
                <div class="base-text">
                  <p>最終結果最終結果最終結果最終結果</p>
                  <p>最終結果最終結果最終結果最終結果</p>
                </div>
              </div>
            </div>
            <div class="camera item">
              <img src="icon/camera-solid.png" class="item-img" />
              <div class="base">
                <h2>CAMERA</h2>
                <div class="base-text">
                  <p>最終結果最終結果最終結果最終結果</p>
                  <p>最終結果最終結果最終結果最終結果</p>
                </div>
              </div>
            </div>
          </div>
          <div id="phone-number">
            <p><a href="tel:0522642681">
                <img src="image/phone.png" class="phone" />
              </a></p>
            <p>
              <img src="image/home.png" class="home" />
            </p>

          </div>
        </div>
        <div class="btnBottom" id="download">
          <button id="dialog-result-dl" type="button">
            <img src="icon/download-solid.png" width="48" height="48">
          </button>
        </div>
      </div>

      <!--  NowLoading -->
      <div id="dialog-nowloading" class="dialog">
        ...Now Loading
      </div>
    </div>
    <!-- /ダイアログ -->

    <audio id="se" preload="auto">
      <source src="se/camera-shutter1.mp3" type="audio/mp3">
    </audio>

  </div>

  <script src="util.js" type="text/javascript"></script>
  <script src="html2canvas.min.js"></script>
  <script src="main.js" type="text/javascript"></script>
  <script>
    // global vars : canvas, scroll & scale
    let info = document.getElementById("info");
    const canvas = document.getElementById('frame');
    let cw = canvas.width = 310, cx = cw / 2;
    let ch = canvas.height = 310, cy = 75;
    const context = canvas.getContext('2d');
    let scrollX = 0;
    let scrollY = 0;
    let scale = 1;
    let scaleFactor = 0.01;
    
    function zoom(event) {
      let direction = event.deltaY > 0 ? 1 : -1;
      if (event.deltaY < 0) {
        // Zoom in
        scale *= event.deltaY * -2;
      }
      else {
        // Zoom out
        scale /= event.deltaY * 2;
      }
      // Restrict scale
      scale = Math.min(Math.max(0.5, scale), 2);
      // Apply scale transform
      el.style.transform = `scale(${scale})`;
    }

    const el = document.querySelector('#frame');
    document.onwheel = zoom;
  </script>
</body>

</html>
</body>

</html>